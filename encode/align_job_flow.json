{
    "Steps": [
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=1",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,1",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=true",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=536870912",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "mapreduce.reduce.memory.mb=20138",
                    "-D",
                    "mapreduce.reduce.java.opts=-Xmx16110m",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/preprocess/push",
                    "-output",
                    "hdfs:///encode_intermediates/align_reads",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/align_reads.py --bowtie-idx=/local/index/dm3/genome --bowtie2-idx=/local/index/dm3/genome --bowtie2-exe=/local/raildotbio/bowtie2-2.2.7/bowtie2 --exon-differentials --partition-length=5000 --min-exon-size=9 --search-filter=1 --manifest=/local/encode/encode_shrna_knockdown_ployarna_metadata.tsv.files.rail.manifest.local.tsv --max-readlet-size=25 --readlet-interval=4 --capping-multiplier=1.1 --gzip-level 3 --index-count 200 --tie-margin 0     --output-bam-by-chr  --no-polyA -- ",
                    "-outputformat",
                    "edu.jhu.cs.MultipleIndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Align reads and segment them into readlets"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=1",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,1",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=true",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=536870912",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/align_reads/readletized",
                    "-output",
                    "hdfs:///encode_intermediates/align_readlets",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/align_readlets.py --bowtie-idx=/local/index/dm3/genome --bowtie-exe=/local/raildotbio/bowtie-1.1.2/bowtie   --gzip-level=3  -- -t --sam-nohead --startverbose -v 0 -a -m 30",
                    "-outputformat",
                    "edu.jhu.cs.IndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Align unique readlets to genome"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=1",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,1",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=536870912",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/align_readlets",
                    "-output",
                    "hdfs:///encode_intermediates/junction_search",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/junction_search.py --bowtie-idx=/local/index/dm3/genome --partition-length=5000 --max-intron-size=500000 --min-intron-size=10 --min-exon-size=9 --search-window-size=1000   --motif-radius=5 ",
                    "-outputformat",
                    "edu.jhu.cs.IndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Search for junctions using readlet alignments"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=3",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,3",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=268435456",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/junction_search",
                    "-output",
                    "hdfs:///encode_intermediates/junction_filter",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/junction_filter.py --manifest=/local/encode/encode_shrna_knockdown_ployarna_metadata.tsv.files.rail.manifest.local.tsv --sample-fraction=0.05 --coverage-threshold=5 --collect-junctions",
                    "-outputformat",
                    "edu.jhu.cs.MultipleIndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Filter out junctions violating confidence criteria"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=4",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,2",
                    "-D",
                    "mapreduce.job.output.key.comparator.class=org.apache.hadoop.mapred.lib.KeyFieldBasedComparator",
                    "-D",
                    "mapreduce.partition.keycomparator.options=-k1,2 -k3,4",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=268435456",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/junction_filter/filter",
                    "-output",
                    "hdfs:///encode_intermediates/junction_config",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/junction_config.py --readlet-size=35 --min-overlap-exon-size=9 ",
                    "-outputformat",
                    "edu.jhu.cs.IndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Enumerate junction cooccurrences on readlets"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=3",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,3",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=268435456",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/junction_config",
                    "-output",
                    "hdfs:///encode_intermediates/junction_fasta",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/junction_fasta.py --bowtie-idx=/local/index/dm3/genome ",
                    "-outputformat",
                    "edu.jhu.cs.IndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Get isofrags for index construction"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=1",
                    "-D",
                    "stream.num.map.output.key.fields=2",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,1",
                    "-D",
                    "mapreduce.job.output.key.comparator.class=org.apache.hadoop.mapred.lib.KeyFieldBasedComparator",
                    "-D",
                    "mapreduce.partition.keycomparator.options=-k1,1 -k2,2",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=268435456",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/junction_fasta,hdfs:///encode_intermediates/align_reads/dummy",
                    "-output",
                    "hdfs:///encode_intermediates/junction_index",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/junction_index.py --bowtie2-build-exe=/local/raildotbio/bowtie2-2.2.7/bowtie2-build --out=hdfs:///encode_run/cross_sample_results --basename isofrags  ",
                    "-outputformat",
                    "edu.jhu.cs.IndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Build isofrag index"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=1",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,1",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=536870912",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-archives",
                    "hdfs:///encode_run/cross_sample_results/isofrags.tar.gz#isofrags",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/align_reads/unique",
                    "-output",
                    "hdfs:///encode_intermediates/cojunction_enum",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/cojunction_enum.py --bowtie2-idx=isofrags/isofrags --gzip-level 3 --bowtie2-exe=/local/raildotbio/bowtie2-2.2.7/bowtie2   --intermediate-dir hdfs:///encode_intermediates --max-refs 300  -- -k 30",
                    "-outputformat",
                    "edu.jhu.cs.IndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Finalize junction cooccurrences on reads"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=3",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,3",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=268435456",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/cojunction_enum",
                    "-output",
                    "hdfs:///encode_intermediates/cojunction_fasta",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/cojunction_fasta.py --bowtie-idx=/local/index/dm3/genome --index-count 200 ",
                    "-outputformat",
                    "edu.jhu.cs.IndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Get transcriptome elements for read realignment"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=3",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,1",
                    "-D",
                    "mapreduce.job.output.key.comparator.class=org.apache.hadoop.mapred.lib.KeyFieldBasedComparator",
                    "-D",
                    "mapreduce.partition.keycomparator.options=-k1,1 -k2,3",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=true",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=536870912",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar,/local/jar/mod-partitioner.jar",
                    "-partitioner",
                    "edu.jhu.cs.ModPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/align_reads/unmapped,hdfs:///encode_intermediates/cojunction_fasta",
                    "-output",
                    "hdfs:///encode_intermediates/realign_reads",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/realign_reads.py --bowtie2-exe=/local/raildotbio/bowtie2-2.2.7/bowtie2 --bowtie2-build-exe=/local/raildotbio/bowtie2-2.2.7/bowtie2-build --gzip-level 3 --count-multiplier 15 --tie-margin 0    -- ",
                    "-outputformat",
                    "edu.jhu.cs.IndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Align reads to transcriptome elements"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=1",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,1",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=536870912",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "mapreduce.reduce.memory.mb=20138",
                    "-D",
                    "mapreduce.reduce.java.opts=-Xmx16110m",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/align_reads/postponed_sam,hdfs:///encode_intermediates/realign_reads",
                    "-output",
                    "hdfs:///encode_intermediates/compare_alignments",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/compare_alignments.py --bowtie-idx=/local/index/dm3/genome --partition-length=5000 --exon-differentials --tie-margin 0 --manifest=/local/encode/encode_shrna_knockdown_ployarna_metadata.tsv.files.rail.manifest.local.tsv   --output-bam-by-chr -- ",
                    "-outputformat",
                    "edu.jhu.cs.MultipleIndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Collect and compare read alignments"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=7",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,6",
                    "-D",
                    "mapreduce.job.output.key.comparator.class=org.apache.hadoop.mapred.lib.KeyFieldBasedComparator",
                    "-D",
                    "mapreduce.partition.keycomparator.options=-k1,6 -k7,7",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=268435456",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/compare_alignments/junction_bed,hdfs:///encode_intermediates/compare_alignments/sam_junction_ties",
                    "-output",
                    "hdfs:///encode_intermediates/junction_coverage",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/junction_coverage.py --bowtie-idx /local/index/dm3/genome",
                    "-outputformat",
                    "edu.jhu.cs.IndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Associate spliced reads with junction coverages"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=1",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,1",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=268435456",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/junction_coverage,hdfs:///encode_intermediates/compare_alignments/sam_clip_ties",
                    "-output",
                    "hdfs:///encode_intermediates/break_ties",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/break_ties.py --exon-differentials --bowtie-idx /local/index/dm3/genome --partition-length 5000 --manifest hdfs:///encode_intermediates/MANIFEST --tie-margin 0  --output-bam-by-chr -- ",
                    "-outputformat",
                    "edu.jhu.cs.MultipleIndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Finalize primary alignments of spliced reads"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=3",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,1",
                    "-D",
                    "mapreduce.job.output.key.comparator.class=org.apache.hadoop.mapred.lib.KeyFieldBasedComparator",
                    "-D",
                    "mapreduce.partition.keycomparator.options=-k1,1 -k2,3",
                    "-D",
                    "mapreduce.reduce.shuffle.input.buffer.percent=0.4",
                    "-D",
                    "mapreduce.reduce.shuffle.merge.percent=0.4",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=268435456",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar,/local/jar/mod-partitioner.jar",
                    "-partitioner",
                    "edu.jhu.cs.ModPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/compare_alignments/sam,hdfs:///encode_intermediates/break_ties/sam,hdfs:///encode_intermediates/align_reads/sam",
                    "-output",
                    "hdfs:///encode_intermediates/bam",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/bam.py --out=hdfs:///encode_run/alignments --bowtie-idx=/local/index/dm3/genome --samtools-exe=/local/raildotbio/samtools-1.2/samtools --bam-basename=alignments --manifest=/local/encode/encode_shrna_knockdown_ployarna_metadata.tsv.files.rail.manifest.local.tsv  --output-by-chromosome   --suppress-bam --tie-margin 0",
                    "-outputformat",
                    "edu.jhu.cs.MultipleIndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Count mapped reads by contig/sample"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=1",
                    "-D",
                    "stream.num.map.output.key.fields=2",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,1",
                    "-D",
                    "mapreduce.job.output.key.comparator.class=org.apache.hadoop.mapred.lib.KeyFieldBasedComparator",
                    "-D",
                    "mapreduce.partition.keycomparator.options=-k1,1 -k2,2n",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=268435456",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/bam/counts",
                    "-output",
                    "hdfs:///encode_intermediates/read_counts",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/collect_read_stats.py --bowtie-idx=/local/index/dm3/genome --out=hdfs:///encode_run/cross_sample_results --manifest=/local/encode/encode_shrna_knockdown_ployarna_metadata.tsv.files.rail.manifest.local.tsv --gzip-level=3 --tsv-basename=  ",
                    "-outputformat",
                    "edu.jhu.cs.IndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Write mapped read counts"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=4",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,4",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=268435456",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/align_reads/exon_diff,hdfs:///encode_intermediates/compare_alignments/exon_diff,hdfs:///encode_intermediates/break_ties/exon_diff",
                    "-output",
                    "hdfs:///encode_intermediates/collapse",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/sum.py ",
                    "-outputformat",
                    "edu.jhu.cs.IndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Merge exon differentials at same genomic positions"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=3",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,1",
                    "-D",
                    "mapreduce.job.output.key.comparator.class=org.apache.hadoop.mapred.lib.KeyFieldBasedComparator",
                    "-D",
                    "mapreduce.partition.keycomparator.options=-k1,1 -k2,3",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=268435456",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-files",
                    "hdfs:///encode_intermediates/cross_sample_results/counts.tsv.gz#counts.tsv.gz",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/collapse",
                    "-output",
                    "hdfs:///encode_intermediates/precoverage",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/coverage_pre.py --bowtie-idx=/local/index/dm3/genome --library-size 40 --read-counts counts.tsv.gz --partition-stats --manifest=/local/encode/encode_shrna_knockdown_ployarna_metadata.tsv.files.rail.manifest.local.tsv --output-ave-bigwig-by-chr",
                    "-outputformat",
                    "edu.jhu.cs.MultipleIndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Compile sample coverages from exon differentials"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=3",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,1",
                    "-D",
                    "mapreduce.job.output.key.comparator.class=org.apache.hadoop.mapred.lib.KeyFieldBasedComparator",
                    "-D",
                    "mapreduce.partition.keycomparator.options=-k1,1 -k2,3",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=268435456",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar,/local/jar/mod-partitioner.jar",
                    "-partitioner",
                    "edu.jhu.cs.ModPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/precoverage/coverage",
                    "-output",
                    "hdfs:///encode_intermediates/coverage",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/coverage.py --bowtie-idx=/local/index/dm3/genome --percentile=0.75 --out=hdfs:///encode_run/coverage_bigwigs --bigwig-exe=/local/raildotbio/bedGraphToBigWig --manifest=/local/encode/encode_shrna_knockdown_ployarna_metadata.tsv.files.rail.manifest.local.tsv  ",
                    "-outputformat",
                    "edu.jhu.cs.IndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Write bigWigs with exome coverage by sample"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=6",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,5",
                    "-D",
                    "mapreduce.job.output.key.comparator.class=org.apache.hadoop.mapred.lib.KeyFieldBasedComparator",
                    "-D",
                    "mapreduce.partition.keycomparator.options=-k1,5 -k6,6n",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=268435456",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/compare_alignments/indel_bed,hdfs:///encode_intermediates/break_ties/indel_bed,hdfs:///encode_intermediates/compare_alignments/junction_bed,hdfs:///encode_intermediates/break_ties/junction_bed",
                    "-output",
                    "hdfs:///encode_intermediates/prebed",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/bed_pre.py --manifest=/local/encode/encode_shrna_knockdown_ployarna_metadata.tsv.files.rail.manifest.local.tsv --sample-fraction=0.05 --coverage-threshold=5  ",
                    "-outputformat",
                    "edu.jhu.cs.MultipleIndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Aggregate junctions/indels"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=5",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,1",
                    "-D",
                    "mapreduce.job.output.key.comparator.class=org.apache.hadoop.mapred.lib.KeyFieldBasedComparator",
                    "-D",
                    "mapreduce.partition.keycomparator.options=-k1,1 -k2,5",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=268435456",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar,/local/jar/mod-partitioner.jar",
                    "-partitioner",
                    "edu.jhu.cs.ModPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/coverage,hdfs:///encode_intermediates/prebed/collect",
                    "-output",
                    "hdfs:///encode_intermediates/tsv",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/tsv.py --bowtie-idx=/local/index/dm3/genome --out=hdfs:///encode_run/cross_sample_results --manifest=/local/encode/encode_shrna_knockdown_ployarna_metadata.tsv.files.rail.manifest.local.tsv --gzip-level=3 --tsv-basename=  ",
                    "-outputformat",
                    "edu.jhu.cs.IndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Write normalization factors/junctions/indels"
        },
        {
            "ActionOnFailure": "",
            "HadoopJarStep": {
                "Args": [
                    "-D",
                    "mapreduce.job.reduces=7",
                    "-D",
                    "stream.num.map.output.key.fields=5",
                    "-D",
                    "mapreduce.partition.keypartitioner.options=-k1,2",
                    "-D",
                    "mapreduce.job.output.key.comparator.class=org.apache.hadoop.mapred.lib.KeyFieldBasedComparator",
                    "-D",
                    "mapreduce.partition.keycomparator.options=-k1,2 -k3,5",
                    "-D",
                    "elephantbird.use.combine.input.format=true",
                    "-D",
                    "elephantbird.check.is.splitable=false",
                    "-D",
                    "elephantbird.lzo.output.index=true",
                    "-D",
                    "elephantbird.combine.split.size=268435456",
                    "-D",
                    "elephantbird.combined.split.count=7",
                    "-D",
                    "io.compression.codecs=org.apache.hadoop.io.compress.DefaultCodec,com.hadoop.compression.lzo.LzoCodec,com.hadoop.compression.lzo.LzopCodec,org.apache.hadoop.io.compress.GzipCodec,org.apache.hadoop.io.compress.BZip2Codec",
                    "-D",
                    "io.compression.codec.lzo.class=com.hadoop.compression.lzo.LzoCodec",
                    "-libjars",
                    "/local/libraries/hadoop-lzo-release-0.4.20/target/hadoop-lzo-0.4.20.jar,/local/jar/relevant-elephant.jar,/local/jar/custom-output-formats.jar",
                    "-partitioner",
                    "org.apache.hadoop.mapred.lib.KeyFieldBasedPartitioner",
                    "-input",
                    "hdfs:///encode_intermediates/prebed/bed",
                    "-output",
                    "hdfs:///encode_intermediates/bed",
                    "-mapper",
                    "cat",
                    "-reducer",
                    "/local/raildotbio/pypy-2.5-linux_x86_64-portable/bin/pypy /local/rail/src/rna/steps/bed.py --bowtie-idx=/local/index/dm3/genome --out=hdfs:///encode_run/junctions_and_indels --manifest=/local/encode/encode_shrna_knockdown_ployarna_metadata.tsv.files.rail.manifest.local.tsv --bed-basename=  ",
                    "-outputformat",
                    "edu.jhu.cs.IndexedLzoTextOutputFormat",
                    "-inputformat",
                    "com.twitter.elephantbird.mapred.input.DeprecatedCombineLzoTextInputFormat"
                ],
                "Jar": ""
            },
            "Name": "Write BEDs with junctions/indels by sample"
        }
    ]
}

